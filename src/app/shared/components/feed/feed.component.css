/* Remove padding from p-card body so media can be 100% width on all screens */
:host ::ng-deep .no-pad-card .p-card-body {
  padding: 0 !important;
}

/* Baseline for mc-article-media */
:host ::ng-deep mc-article-media {
  display: block;
  width: 100%;
  height: 100%;
}
:host ::ng-deep mc-article-media video,
:host ::ng-deep mc-article-media img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover; /* avoid stretching/pixelation */
}

/* Portrait (vertical) media with rounded corners on desktop */
.media-wrap {
  position: relative;
  overflow: hidden;
  border-radius: 0.75rem; /* nice rounding on desktop */
  background: #0b1220;
}

/* Strict 9:16 portrait aspect ratio */
.media-portrait {
  aspect-ratio: 9 / 16;
}

/* Overlays sit above the media but don't block clicks by default */
.overlay {
  position: absolute;
  left: 0;
  right: 0;
  padding: 0.75rem 0.75rem;
  z-index: 2;
  pointer-events: none; /* let clicks go through to player controls */
}

/* Re-enable clicks only for interactive elements inside overlays */
.overlay .overlay-click,
.overlay a,
.overlay button,
.overlay .p-button,
.overlay mc-add-to-favorites,
.overlay mc-tag-list {
  pointer-events: auto;
}

/* Top: subtle gradient for readability */
.overlay-top {
  top: 0;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0));
}

/* Bottom TEXT: now at the very bottom.
   Controls (native or custom) will appear above this because:
   - text overlay sits at bottom:0, and
   - its z-index is lower than typical overlayed controls, plus it allows clicks through. */
.overlay-bottom {
  bottom: 0; /* <-- put text at the absolute bottom */
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.72), rgba(0, 0, 0, 0) 60%);
  padding-top: 0.9rem;
  padding-bottom: 0.5rem;
  z-index: 1; /* sit beneath any control overlay */
}

/* Tag list inside overlay should wrap nicely */
.tags-inside {
  --gap: 0.375rem;
  display: flex;
  flex-wrap: wrap;
  gap: var(--gap);
}

/* Loader overlay (quick fade) */
.media-skeleton {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.15);
  pointer-events: none;
  opacity: 1;
  animation: fadeOutOverlay 0.8s ease 0.6s forwards;
}
.spinner {
  width: 32px;
  height: 32px;
  border-radius: 9999px;
  border: 3px solid rgba(255, 255, 255, 0.35);
  border-top-color: rgba(255, 255, 255, 0.95);
  animation: spin 0.9s linear infinite;
}
.spinner-sm {
  width: 18px;
  height: 18px;
  border-radius: 9999px;
  border: 2px solid rgba(148, 163, 184, 0.35);
  border-top-color: rgba(148, 163, 184, 0.95);
  animation: spin 0.8s linear infinite;
}
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
@keyframes fadeOutOverlay {
  to {
    opacity: 0;
    visibility: hidden;
  }
}

/* Mobile tweaks: full-bleed look */
@media (max-width: 767.98px) {
  .media-wrap {
    border-radius: 0 !important;
  }
}
